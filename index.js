const { Telegraf } = require('telegraf')

const bot =new Telegraf(process.env.bot_token);

bot.start((ctx) =>{
    ctx.reply('Ø³Ù„Ø§Ù… Ø¨Ù‡ Ø±Ø¨Ø§Øª ÙØ±ÙˆØ´Ú¯Ø§Ù‡ mahdi7pj  Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯ \n Ú†Ù‡ Ú©Ù…Ú©ÛŒ Ø§Ø² Ù…Ù† Ø¨Ø±Ù…ÛŒØ§Ø¯\n /help')
})
bot.help((ctx)=>{
    ctx.reply('Ø§ÛŒÙ† ÛŒÚ© Ø±Ø¨Ø§Øª ÙØ±ÙˆØ´Ú¯Ø§Ù‡ÛŒ Ù‡Ø³Øª.Ø¨Ø±Ø§ÛŒ Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§ Ù…Ø§ Ù…ÛŒØªÙˆØ§Ù†ÛŒØ¯ Ø§Ø² Ø±ÙˆØ´ Ù‡Ø§ÛŒ Ø²ÛŒØ± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯ .\nØ¢Ø¯Ø±Ø³ Ù¾Ø´ÛŒØ¨Ø§Ù†ÛŒ ØªÙ„Ú¯Ø±Ø§Ù…ğŸ‘¨â€ğŸ’»:\nØ¢Ø¯Ø±Ø³ Ø³Ø§ÛŒØªğŸ›’:\nØ´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³ğŸ“:')
})
bot.command('menu',(ctx)=>{
ctx.reply("ğŸ‰Ø³Ù„Ø§Ù… Ø¨Ù‡ Ø±Ø¨Ø§Øª ÙØ±ÙˆØ´Ú¯Ø§Ù‡ÛŒ Ù…Ø§ Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯",{
  reply_markup : {
    inline_keyboard: [
      [ { text:"ğŸ›’Ø§Ø¯Ø±Ø³ ÙØ±ÙˆØ´Ú¯Ø§Ù‡" , callback_data:"btn-1"} , { text:"ğŸŒØ¢Ø¯Ø±Ø³ Ø³Ø§ÛŒØª" , callback_data:"btn-2"}],
      [{ text:"ğŸ‘¨â€ğŸ’»Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§ Ø§Ø¯Ù…ÛŒÙ†", callback_data:"btn-3"}],
      [{text:"Ø¢Ø¯Ø±Ø³ Ú©Ø§Ù†Ø§Ù„ ØªÙ„Ú¯Ø±Ø§Ù…ÛŒ Ù…Ø§ ",callback_data:"btn-4"}]
    ]
  }
})

})
bot.action("btn-1",(ctx)=>{
ctx.reply(" ØªÙ‡Ø±Ø§Ù† ØŒ Ø®ÛŒØ§Ø¨Ø§Ù† Ø¬Ù…Ù‡ÙˆØ±ÛŒ Ùˆ...")
})
bot.action("btn-2",(ctx)=>{
ctx.reply("Ø¢Ø¯Ø±Ø³ Ø³Ø§ÛŒØª : WWW.")
})
bot.action("btn-3",(ctx)=>{
  ctx.reply("@")
})
bot.action("btn-4",(ctx)=>{
  ctx.reply("@")
})

// --- Ø§ÛŒÙ† Ø®Ø·ÙˆØ· Ø±Ø§ Ø¨Ù‡ Ø¬Ø§ÛŒ bot.launch() Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯ ---
const PORT = process.env.PORT || 3000; // Render Ù¾ÙˆØ±Øª Ø±Ø§ Ø¯Ø± process.env.PORT Ù‚Ø±Ø§Ø± Ù…ÛŒâ€ŒØ¯Ù‡Ø¯

// URL ÙˆØ§Ù‚Ø¹ÛŒ Ø³Ø±ÙˆÛŒØ³ Render Ø´Ù…Ø§ Ú©Ù‡ Ø®ÙˆØ¯ØªØ§Ù† Ø§Ø±Ø³Ø§Ù„ Ú©Ø±Ø¯ÛŒØ¯:
const WEBHOOK_URL = 'https://telegram-bot-v8u3.onrender.com/'; 

// Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø±Ø¨Ø§Øª Ø¯Ø± Ø­Ø§Ù„Øª ÙˆØ¨â€ŒÙ‡ÙˆÚ©
bot.launch({
  webhook: {
    domain: WEBHOOK_URL, // Ø¢Ø¯Ø±Ø³ Ù¾Ø§ÛŒÙ‡ Ø¨Ø±Ø§ÛŒ ÙˆØ¨â€ŒÙ‡ÙˆÚ© Ø´Ù…Ø§
    port: PORT,           // Ù¾ÙˆØ±ØªÛŒ Ú©Ù‡ ÙˆØ¨ Ø³Ø±ÙˆØ± Ø´Ù…Ø§ Ø±ÙˆÛŒ Ø¢Ù† Ú¯ÙˆØ´ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯
    // secretPath: '/telegraf-webhook' // (Ø§Ø®ØªÛŒØ§Ø±ÛŒ) Ø§Ú¯Ø± Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ù…Ø³ÛŒØ± ÙˆØ¨â€ŒÙ‡ÙˆÚ© Ø´Ù…Ø§ Ø§Ù…Ù†â€ŒØªØ± Ø¨Ø§Ø´Ø¯ØŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø§ÛŒÙ† Ø®Ø· Ø±Ø§ ÙØ¹Ø§Ù„ Ú©Ù†ÛŒØ¯
  }
}).then(() => {
  console.log('Bot started with webhook!');
  // Ø§Ú¯Ø± Ø§Ø² secretPath Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯ØŒ Ø¨Ø§ÛŒØ¯ Webhook Ø±Ø§ Ø¨Ù‡ ØªÙ„Ú¯Ø±Ø§Ù… Ù…Ø¹Ø±ÙÛŒ Ú©Ù†ÛŒØ¯:
  // bot.telegram.setWebhook(WEBHOOK_URL + (bot.webhookSecretPath || ''));
  // Ø¨Ø±Ø§ÛŒ Ø¨ÛŒØ´ØªØ± Ù…ÙˆØ§Ø±Ø¯ØŒ bot.launch Ø¨Ù‡ Ø®ÙˆØ¯ÛŒ Ø®ÙˆØ¯ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø§ÙˆÙ„ÛŒÙ‡ ÙˆØ¨â€ŒÙ‡ÙˆÚ© Ø¯Ø± ØªÙ„Ú¯Ø±Ø§Ù… Ø±Ø§ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ¯Ù‡Ø¯.
}).catch((err) => {
  console.error('Error starting bot:', err);
});
// --- Ù¾Ø§ÛŒØ§Ù† Ø¨Ø®Ø´ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯Ù‡ ---
